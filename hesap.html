<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HesabÄ±m - Banka YÃ¶netim Sistemi</title>

  <style>
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ¹Ù…Ù„ Reset Ù„ÙƒÙ„ Ø§Ù„Ø¹Ù†Ø§ØµØ± (Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù‡ÙˆØ§Ù…Ø´ ÙˆØ§Ù„Ø¨Ø§Ø¯ÙŠ ÙˆØªÙØ¹ÙŠÙ„ box-sizing) */
    /* Bu bÃ¶lÃ¼m tÃ¼m elemanlar iÃ§in reset yapar (margin/padding sÄ±fÄ±rlar ve box-sizing uygular) */
    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ­Ø¯Ø¯ Ø´ÙƒÙ„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø¹Ø§Ù…: Ø§Ù„Ø®Ø· ÙˆØ§Ù„Ø®Ù„ÙÙŠØ© ÙˆØ§Ù„Ø§Ø±ØªÙØ§Ø¹ */
    /* Bu bÃ¶lÃ¼m sayfanÄ±n genel stilini belirler: font, arka plan, yÃ¼kseklik */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f7fa;
      min-height: 100vh;
    }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù‡Ùˆ ØªØ®Ø·ÙŠØ· Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ: Sidebar + Main Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… flex */
    /* Bu bÃ¶lÃ¼m temel sayfa yerleÅŸimini kurar: Sidebar + Main (flex) */
    .app {
      display: flex;
      min-height: 100vh;
    }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù‡Ùˆ ØªØµÙ…ÙŠÙ… Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± (Ø«Ø§Ø¨Øª Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± + Ø³ÙƒØ±ÙˆÙ„) */
    /* Bu bÃ¶lÃ¼m sidebar tasarÄ±mÄ±nÄ± yapar (solda sabit + kaydÄ±rma) */
    .sidebar {
      width: 280px;
      background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
      padding: 18px 14px;
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      overflow-y: auto;
      border-right: 1px solid rgba(255,255,255,0.08);
      transition: width 0.35s ease;
    }

    /* Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø±: Ø£ÙŠÙ‚ÙˆÙ†Ø©/Ù†Øµ Ù…Ø¹ Ù…Ø­Ø§Ø°Ø§Ø© Ø¬Ù…ÙŠÙ„Ø© */
    /* Sidebar baÅŸlÄ±ÄŸÄ±: ikon/metin hizalama ve gÃ¶rÃ¼nÃ¼m */
    .sb-title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      font-size: 16px;
      margin-bottom: 16px;
      opacity: 0.95;
    }

    /* Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù… Ø¯Ø§Ø®Ù„ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± (MenÃ¼) */
    /* Sidebar iÃ§inde bÃ¶lÃ¼m baÅŸlÄ±ÄŸÄ± (MenÃ¼) */
    .sb-section {
      margin-top: 10px;
      opacity: 0.9;
      font-size: 13px;
      padding: 8px 10px;
    }

    /* Ø²Ø± Ø¹Ù†ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± (Ø´ÙƒÙ„ Ø¹Ø§Ù… Ù„Ù„Ø£Ø²Ø±Ø§Ø±) */
    /* Sidebar menÃ¼ Ã¶ÄŸesi butonu (genel buton stili) */
    .sb-item {
      width: 100%;
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 10px;
      cursor: pointer;
      border: 0;
      background: transparent;
      color: #fff;
      font-size: 14px;
      text-align: left;
      transition: 0.2s;
    }

    /* ØªØ£Ø«ÙŠØ± hover Ù„Ù„Ø£Ø²Ø±Ø§Ø± */
    /* Butonlar iÃ§in hover efekti */
    .sb-item:hover { background: rgba(255,255,255,0.08); }
    .sb-item.active { background: rgba(255,255,255,0.12); }

    /* Ø®Ø· ÙØ§ØµÙ„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± */
    /* Sidebar ayÄ±rÄ±cÄ± Ã§izgi */
    .sb-divider {
      height: 1px;
      background: rgba(255,255,255,0.08);
      margin: 12px 0;
    }

    /* ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ø³ÙÙ„ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± (Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… + Ø§Ù„Ø­Ø³Ø§Ø¨ + Ø®Ø±ÙˆØ¬) */
    /* Sidebar altÄ±ndaki kullanÄ±cÄ± kutusu (ad + hesap + Ã§Ä±kÄ±ÅŸ) */
    .sb-user {
      position: absolute;
      left: 14px;
      right: 14px;
      bottom: 14px;
      padding: 12px;
      border-radius: 12px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.08);
    }

    /* Ø³Ø·Ø± Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¯Ø§Ø®Ù„ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */
    /* KullanÄ±cÄ± kutusunda isim satÄ±rÄ± */
    .sb-user .name {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
      margin-bottom: 8px;
      font-size: 14px;
      opacity: 0.95;
    }

    /* Ø³Ø·Ø± Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¯Ø§Ø®Ù„ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */
    /* KullanÄ±cÄ± kutusunda hesap numarasÄ± satÄ±rÄ± */
    .sb-user .mini {
      font-size: 12px;
      opacity: 0.75;
    }

    /* Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¯Ø§Ø®Ù„ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */
    /* KullanÄ±cÄ± kutusunda Ã§Ä±kÄ±ÅŸ butonu */
    .sb-user .logout {
      margin-top: 10px;
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.08);
      color: #fff;
      cursor: pointer;
      font-weight: 700;
      transition: 0.2s;
    }

    /* hover Ù„Ø²Ø± Ø§Ù„Ø®Ø±ÙˆØ¬ */
    /* Ã‡Ä±kÄ±ÅŸ butonu hover */
    .sb-user .logout:hover { background: rgba(255,255,255,0.14); }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù‡Ùˆ ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Main) Ù…Ø¹ ØªØ±Ùƒ Ù…Ø³Ø§Ø­Ø© Ù„Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± */
    /* Bu bÃ¶lÃ¼m ana iÃ§erik alanÄ±nÄ± (Main) sidebar boÅŸluÄŸuna gÃ¶re ayarlar */
    .main {
      margin-left: 280px;
      width: calc(100% - 280px);
      min-height: 100vh;
      transition: margin-left 0.35s ease, width 0.35s ease;
    }

    /* Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ (Navbar) Ù„Ù„ÙˆØ§Ø¬Ù‡Ø© */
    /* Ãœst gezinme Ã§ubuÄŸu (Navbar) */
    .navbar {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      font-weight: bold;
    }

    /* Ø¹Ù†ÙˆØ§Ù† Ø¯Ø§Ø®Ù„ navbar */
    /* Navbar iÃ§indeki baÅŸlÄ±k */
    .navbar h1 { font-size: 24px; font-weight: bold; }

    /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ (Ø¹Ø±Ø¶ Ø«Ø§Ø¨Øª + ÙˆØ³Ø· Ø§Ù„ØµÙØ­Ø©) */
    /* Ä°Ã§erik kapsayÄ±cÄ± (max geniÅŸlik + ortalama) */
    .container {
      max-width: 1200px;
      margin: 40px auto;
      padding: 0 20px;
    }

    /* Ø´Ø¨ÙƒØ© Ø§Ù„ÙƒØ±ÙˆØª Ø§Ù„Ø¹Ù„ÙˆÙŠØ© (Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©/Ø§Ù„ÙƒØ±ÙˆØª) */
    /* Ãœst kartlar iÃ§in grid dÃ¼zeni */
    .kart-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    /* ØªØµÙ…ÙŠÙ… Ø§Ù„ÙƒØ±Øª Ø§Ù„Ø¹Ø§Ù… (Ø®Ù„ÙÙŠØ© + Ø¸Ù„ + Ø­Ø±ÙƒØ© hover) */
    /* Genel kart tasarÄ±mÄ± (arka plan + gÃ¶lge + hover animasyon) */
    .kart {
      font-weight: bold;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      transition: transform 0.3s;
      border: 1px solid rgba(97, 121, 228, 0.25);
    }

    /* Ø­Ø±ÙƒØ© Ø¨Ø³ÙŠØ·Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ±Øª */
    /* Kart Ã¼zerine gelince kÃ¼Ã§Ã¼k hareket */
    .kart:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
    }

    /* ÙƒØ±Øª Ø§Ù„Ø±ØµÙŠØ¯ (Ù…Ù…ÙŠØ² Ù„ÙƒÙ†Ù‡ Ø¨Ù†ÙØ³ Ø§Ù„Ù„ÙˆÙ† Ù‡Ù†Ø§) */
    /* Bakiye kartÄ± (Ã¶zel kart, burada aynÄ± renk) */
    .bakiye-kart {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    /* Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ±Øª + Ù‚ÙŠÙ…Ø© Ø§Ù„ÙƒØ±Øª + Ø³Ø·Ø± Ø¥Ø¶Ø§ÙÙŠ */
    /* Kart baÅŸlÄ±ÄŸÄ± + kart deÄŸeri + alt metin */
    .kart-baslik { font-size: 14px; opacity: 0.8; margin-bottom: 10px; }
    .kart-deger { font-size: 36px; font-weight: bold; margin-bottom: 5px; }
    .kart-alt { font-size: 12px; opacity: 0.7; }

    /* Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (Ø¥ÙŠØ¯Ø§Ø¹/Ø³Ø­Ø¨/ØªØ­ÙˆÙŠÙ„) */
    /* Ä°ÅŸlemler paneli (yatÄ±r/Ã§ek/transfer) */
    .islem-panel {
      background: white;
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
    }

    /* Ø¹Ù†ÙˆØ§Ù† Ø¯Ø§Ø®Ù„ Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª */
    /* Ä°ÅŸlem paneli baÅŸlÄ±ÄŸÄ± */
    .islem-baslik {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 20px;
      color: #333;
    }

    /* Ø£Ø²Ø±Ø§Ø± Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© */
    /* Ä°ÅŸlem seÃ§me butonlarÄ± */
    .islem-butonlar {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    /* ØªØµÙ…ÙŠÙ… Ø²Ø± Ø§Ù„Ø¹Ù…Ù„ÙŠØ© */
    /* Ä°ÅŸlem butonu tasarÄ±mÄ± */
    .islem-btn {
      flex: 1;
      min-width: 150px;
      padding: 15px;
      border: 2px solid #e0e0e0;
      background: white;
      border-radius: 12px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s;
      color: #333;
    }

    /* hover Ù„Ù„Ø²Ø± */
    /* Buton hover */
    .islem-btn:hover { border-color: #667eea; color: #667eea; }

    /* Ø§Ù„Ø²Ø± Ø§Ù„Ù†Ø´Ø· (Ø§Ù„Ù…Ø®ØªØ§Ø±) */
    /* Aktif (seÃ§ili) buton */
    .islem-btn.aktif {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-color: transparent;
    }

    /* Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± */
    /* SeÃ§ime gÃ¶re iÅŸlem formlarÄ±nÄ± gizle/gÃ¶ster */
    .islem-form { display: none; }
    .islem-form.aktif { display: block; }

    /* Ù…Ø¬Ù…ÙˆØ¹Ø© Ø­Ù‚ÙˆÙ„ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙÙˆØ±Ù… */
    /* Form alan grubu */
    .form-grup { margin-bottom: 20px; }

    /* ØªØ³Ù…ÙŠØ© Ø§Ù„Ø­Ù‚Ù„ */
    /* Alan etiketi */
    .form-grup label {
      display: block;
      color: #333;
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 14px;
    }

    /* Ø´ÙƒÙ„ Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª ÙˆØ§Ù„ØªÙƒØ³Øª Ø§ÙŠØ±ÙŠØ§ */
    /* Input ve textarea stili */
    .form-grup input, .form-grup textarea {
      width: 100%;
      padding: 14px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 15px;
      transition: all 0.3s;
    }

    /* Ø´ÙƒÙ„ Ø§Ù„Ø­Ù‚Ù„ Ø¹Ù†Ø¯ Ø§Ù„ØªØ±ÙƒÙŠØ² (focus) */
    /* Focus durumunda alan stili */
    .form-grup input:focus, .form-grup textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    /* Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¹Ø§Ù… */
    /* Genel onay butonu */
    .onay-btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s;
    }

    /* hover Ù„Ø²Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯ */
    /* Onay butonu hover */
    .onay-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
    }

    /* Ø²Ø± Ø®Ø·ÙŠØ± (Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø­Ø³Ø§Ø¨) */
    /* Tehlikeli buton (hesap kapatma) */
    .tehlikeli-btn { background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); }

    /* Ø¬Ø¯ÙˆÙ„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (ØµÙ†Ø¯ÙˆÙ‚ Ø£Ø¨ÙŠØ¶) */
    /* Ä°ÅŸlem geÃ§miÅŸi tablosu alanÄ± (beyaz kutu) */
    .gecmis-tablo {
      background: white;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
    }

    /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¬Ø¯ÙˆÙ„ */
    /* Tablo stili */
    .tablo { width: 100%; border-collapse: collapse; }

    /* Ø±Ø¤ÙˆØ³ Ø§Ù„Ø¬Ø¯ÙˆÙ„ */
    /* Tablo baÅŸlÄ±k hÃ¼creleri */
    .tablo th {
      background: #f8f9fa;
      padding: 15px;
      text-align: left;
      font-weight: 600;
      color: #333;
      border-bottom: 2px solid #e0e0e0;
    }

    /* Ø®Ù„Ø§ÙŠØ§ Ø§Ù„Ø¬Ø¯ÙˆÙ„ */
    /* Tablo veri hÃ¼creleri */
    .tablo td {
      padding: 15px;
      border-bottom: 1px solid #f0f0f0;
      color: #666;
    }

    /* ØªÙ„ÙˆÙŠÙ† ØµÙ Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±ÙˆØ± */
    /* SatÄ±r hover rengi */
    .tablo tr:hover { background: #f8f9fa; }

    /* Ø£Ù„ÙˆØ§Ù† Ø¯Ù„Ø§Ù„ÙŠØ© Ù„Ù„Ø¥ÙŠØ¯Ø§Ø¹/Ø§Ù„Ø³Ø­Ø¨ */
    /* YatÄ±rma/Ã§ekme iÃ§in renkler */
    .yatirma { color: #043d29; font-weight: 700; }
    .cekme { color: #520808; font-weight: 700; }

    /* ØµÙ†Ø¯ÙˆÙ‚ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­/Ø§Ù„Ø®Ø·Ø£ */
    /* BaÅŸarÄ±/hata mesaj kutusu */
    .mesaj {
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      display: none;
      font-size: 14px;
    }

    /* Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ */
    /* BaÅŸarÄ± mesajÄ± */
    .mesaj.basarili {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    /* Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ */
    /* Hata mesajÄ± */
    .mesaj.hata {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    /* Ù…ÙˆØ¯Ø§Ù„ (Ù†Ø§ÙØ°Ø© ØªØ£ÙƒÙŠØ¯) Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø­Ø³Ø§Ø¨ */
    /* Hesap kapatma iÃ§in modal (onay penceresi) */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 2000;
    }

    /* ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
    /* Modal aktif hale getirme */
    .modal.aktif { display: flex; }

    /* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
    /* Modal iÃ§erik */
    .modal-icerik {
      background: white;
      border-radius: 16px;
      padding: 30px;
      max-width: 400px;
      width: 90%;
    }

    /* Ø¹Ù†ÙˆØ§Ù† ÙˆÙ†Øµ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
    /* Modal baÅŸlÄ±k ve metin */
    .modal-baslik { font-size: 20px; font-weight: 600; margin-bottom: 15px; color: #333; }
    .modal-metin { color: #666; margin-bottom: 25px; line-height: 1.6; }

    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
    /* Modal butonlar */
    .modal-butonlar { display: flex; gap: 10px; }

    /* Ø²Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */
    /* Modal iÃ§i buton */
    .modal-btn {
      flex: 1;
      padding: 12px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    /* Ø²Ø± Ø¥Ù„ØºØ§Ø¡ / Ø²Ø± ØªØ£ÙƒÙŠØ¯ */
    /* Ä°ptal / onay butonlarÄ± */
    .modal-btn.iptal { background: #e0e0e0; color: #333; }
    .modal-btn.onayla { background: #ef4444; color: white; }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù„Ù„ØªØ¬Ø§ÙˆØ¨ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª (Responsive) */
    /* Bu bÃ¶lÃ¼m responsive (farklÄ± ekran boyutlarÄ±) ayarlarÄ± */
    @media (max-width: 900px) {
      .sidebar { width: 240px; }
      .main { margin-left: 240px; width: calc(100% - 240px); }
    }

    @media (max-width: 768px) {
      .sidebar { position: static; width: 100%; height: auto; }
      .sb-user { position: static; margin-top: 12px; }
      .main { margin-left: 0; width: 100%; }
      .navbar { padding: 15px 20px; }
      .kart-grid { grid-template-columns: 1fr; }
      .islem-butonlar { flex-direction: column; }
      .tablo { font-size: 14px; }
    }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± (ØªØµØºÙŠØ±Ù‡) */
    /* Bu bÃ¶lÃ¼m sidebar'Ä± aÃ§/kapat (daraltma) iÅŸlemi iÃ§in */
    .sidebar.closed{
      width: 70px;
      padding: 18px 10px;
      overflow: hidden;
    }

    /* Ø¹Ù†Ø¯ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚: Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù„ØªØ¸Ù‡Ø± Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙÙ‚Ø· */
    /* KapalÄ±yken: sadece menÃ¼ ikonunu gÃ¶stermek iÃ§in elemanlarÄ± gizler */
    .sidebar.closed .sb-title,
    .sidebar.closed .sb-section,
    .sidebar.closed .sb-divider,
    .sidebar.closed .sb-user,
    .sidebar.closed .sb-item:not(.toggle-btn){
      display: none !important;
    }

    /* Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© (â˜°) Ø¹Ù†Ø¯ Ø§Ù„ØªØµØºÙŠØ± */
    /* Daraltmada gÃ¶rÃ¼nen menÃ¼ butonu (â˜°) */
    .sidebar .toggle-btn{
      width: 48px;
      height: 48px;
      justify-content: center;
      border-radius: 12px;
      margin: 6px auto 0 auto;
      display: flex;
      align-items: center;
      font-size: 20px;
    }

    /* Ø¹Ù†Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø±: ØªÙ‚Ù„ÙŠÙ„ Ù‡Ø§Ù…Ø´ Ø§Ù„Ù€ Main */
    /* Sidebar kapalÄ±yken: Main alanÄ±nÄ± sola kaydÄ±rma */
    .main.closed{
      margin-left: 70px;
      width: calc(100% - 70px);
    }
  </style>
</head>

<body>
  <div class="app">

    <!-- Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù‡Ùˆ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± (Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©) -->
    <!-- Bu bÃ¶lÃ¼m sidebar (yan menÃ¼) -->
    <aside class="sidebar closed">
      <div class="sb-title"> Banka YÃ¶netim Sistemi</div>

      <!-- Ø²Ø± ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± -->
      <!-- Sidebar aÃ§/kapat butonu -->
      <button class="sb-item toggle-btn" onclick="toggleSidebar()" title="MenÃ¼" type="button">
        â˜°</button>

      

      <!-- Ø²Ø± Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© -->
      <!-- SayfanÄ±n en Ã¼stÃ¼ne git butonu -->
      <button class="sb-item active" type="button" onclick="scrollToTop()">
        HesabÄ±m
      </button>

      <!-- Ø²Ø± ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
      <!-- Ayarlar sayfasÄ±nÄ± aÃ§ butonu -->
      <button class="sb-item" type="button" onclick="openSettingsFromSidebar()">
        Ayarlar
      </button>

      <div class="sb-divider"></div>

      <!-- ØµÙ†Ø¯ÙˆÙ‚ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø£Ø³ÙÙ„ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± -->
      <!-- Sidebar altÄ±nda kullanÄ±cÄ± bilgi kutusu -->
      <div class="sb-user">
        <div class="name">
          ğŸ‘¤ <span id="kullaniciAdiSidebar">KullanÄ±cÄ±</span>
        </div>
        <div class="mini">Hesap No: <span id="hesapNoSidebar">â€”</span></div>
        <button class="logout" type="button" onclick="cikisYap()"> Ã‡Ä±kÄ±ÅŸ Yap!</button>
      </div>
    </aside>

    <!-- Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù‡Ùˆ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Main) -->
    <!-- Bu bÃ¶lÃ¼m ana iÃ§erik (Main) -->
    <main class="main closed">
      <div class="navbar">
        <h1>HesablarÄ±m</h1>
        <div style="opacity:0.9;font-weight:700;">
          HoÅŸ Geldininiz  <span id="kullaniciAdiTop">...</span>
        </div>
      </div>

      <div class="container">
        <!-- ÙƒØ±ÙˆØª Ø§Ù„Ù…Ù„Ø®Øµ (Ø§Ù„Ø±ØµÙŠØ¯ / Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ / Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø³Ø­Ø¨) -->
        <!-- Ã–zet kartlar (bakiye / toplam yatÄ±rÄ±lan / toplam Ã§ekilen) -->
        <div class="kart-grid">
          <div class="kart bakiye-kart">
            <div class="kart-baslik">Toplam Bakiye</div>
            <div class="kart-deger" id="toplamBakiye">0 â‚º</div>
            <div class="kart-alt">Hesap No: <span id="hesapNo"></span></div>
          </div>

          <div class="kart">
            <div class="kart-baslik">Toplam YatÄ±rÄ±lan</div>
            <div class="kart-deger yatirma" id="toplamYatirilan">0 â‚º</div>
            <div class="kart-alt">TÃ¼m zamanlar</div>
          </div>

          <div class="kart">
            <div class="kart-baslik">Toplam Ã‡ekilen</div>
            <div class="kart-deger cekme" id="toplamCekilen">0 â‚º</div>
            <div class="kart-alt">TÃ¼m zamanlar</div>
          </div>
        </div>

        <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (Ø§Ø®ØªÙŠØ§Ø± Ø¥ÙŠØ¯Ø§Ø¹/Ø³Ø­Ø¨/ØªØ­ÙˆÙŠÙ„ + ÙÙˆØ±Ù…) -->
        <!-- Ä°ÅŸlem paneli (yatÄ±r/Ã§ek/transfer seÃ§imi + form) -->
        <div class="islem-panel">
          <div class="islem-baslik">Ä°ÅŸlemler</div>
          <div id="mesajKutusu" class="mesaj"></div>

          <div class="islem-butonlar">
            <button class="islem-btn aktif" onclick="islemSec(event,'yatirma')">Para YatÄ±r</button>
            <button class="islem-btn" onclick="islemSec(event,'cekme')">Para Ã‡ek</button>
            <button class="islem-btn" onclick="islemSec(event,'transfer')">Para Transferi</button>
          </div>

          <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ -->
          <!-- YatÄ±rma formu -->
          <div id="yatirmaForm" class="islem-form aktif">
            <form onsubmit="paraYatir(event)">
              <div class="form-grup">
                <label>YatÄ±rÄ±lacak Tutar (TL)</label>
                <input type="number" id="yatirmaTutar" required min="10" placeholder="Minimum 10 TL" />
              </div>
              <div class="form-grup">
                <label>AÃ§Ä±klama </label>
                <input type="text" id="yatirmaAciklama" placeholder="Ã–rn: MaaÅŸ yatÄ±rmasÄ±" />
              </div>
              <button type="submit" class="onay-btn">Para YatÄ±r</button>
            </form>
          </div>

          <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø³Ø­Ø¨ -->
          <!-- Ã‡ekme formu -->
          <div id="cekmeForm" class="islem-form">
            <form onsubmit="paraCek(event)">
              <div class="form-grup">
                <label>Ã‡ekilecek Tutar (TL)</label>
                <input type="number" id="cekmeTutar" required min="10" placeholder="Minimum 10 TL" />
              </div>
              <div class="form-grup">
                <label>AÃ§Ä±klama</label>
                <input type="text" id="cekmeAciklama" placeholder="Ã–rn: Market alÄ±ÅŸveriÅŸi" />
              </div>
              <button type="submit" class="onay-btn">Para Ã‡ek</button>
            </form>
          </div>

          <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ­ÙˆÙŠÙ„ + Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³ØªÙÙŠØ¯ Ù…Ø­ÙÙˆØ¸ -->
          <!-- Transfer formu + kayÄ±tlÄ± alÄ±cÄ± seÃ§imi -->
          <div id="transferForm" class="islem-form">
            <form onsubmit="paraTransferi(event)">

              <div class="form-grup">
                <label>KayÄ±tlÄ± AlÄ±cÄ± SeÃ§ </label>
                <select id="kayitliAliciSec" style="width:100%; padding:14px; border:2px solid #e0e0e0; border-radius:10px; font-size:15px;">
                  <option value="">SeÃ§iniz</option>
                </select>
              </div>

              <div class="form-grup">
                <label>AlÄ±cÄ± Hesap No</label>
                <input type="text" id="transferAliciHesapNo" required placeholder="Ã–rn: TR963 100200" />
              </div>

              <div class="form-grup">
                <label>AlÄ±cÄ± Ad Soyad </label>
                <input type="text" id="transferAliciAdSoyad" />
              </div>

              <div class="form-grup">
                <label>AlÄ±cÄ±ya Takma Ad  </label>
                <input type="text" id="transferAliciLakap"  />
              </div>

              <div class="form-grup" style="display:flex; align-items:center; gap:10px;">
                <input type="checkbox" id="transferAliciKaydet" style="width:18px; height:18px;" />
                <label for="transferAliciKaydet" style="margin:0;">Bu alÄ±cÄ±yÄ± kaydet</label>
              </div>

              <div class="form-grup">
                <label>Transfer TutarÄ± (TL)</label>
                <input type="number" id="transferTutar" required min="10" placeholder="Minimum 10 TL" />
              </div>

              <div class="form-grup">
                <label>AÃ§Ä±klama </label>
                <input type="text" id="transferAciklama" />
              </div>

              <button type="submit" class="onay-btn">Para Transferi</button>
            </form>
          </div>

          <!-- Ù‡Ø°Ø§ Ù‚Ø³Ù… "Ayarlar" (ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø³Ø§Ø¨ + Ø¥ØºÙ„Ø§Ù‚ Ø­Ø³Ø§Ø¨) -->
          <!-- Bu bÃ¶lÃ¼m "Ayarlar" (hesap gÃ¼ncelleme + hesap kapatma) -->
          <div id="hesapForm" class="islem-form">
            <div class="form-grup">
              <label>Ad Soyad</label>
              <input type="text" id="yeniAdSoyad" placeholder="Yeni adÄ±nÄ±z" />
            </div>
            <div class="form-grup">
              <label>Yeni Åifre</label>
              <input type="password" id="yeniSifre" placeholder="Yeni ÅŸifreniz" />
            </div>
            <div class="form-grup">
              <label>Åifre tekrarla</label>
              <input type="password" id="yeniSifre" placeholder="Yeni ÅŸifreniz" />
            </div>
            <button onclick="hesapGuncelle()" class="onay-btn">Bilgileri GÃ¼ncelle</button>
            <br /><br />
            <button onclick="hesapKapatModal()" class="onay-btn tehlikeli-btn">HesabÄ± Kapat</button>
          </div>
        </div>

        <!-- Ø¬Ø¯ÙˆÙ„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª -->
        <!-- Ä°ÅŸlem geÃ§miÅŸi tablosu -->
        <div class="gecmis-tablo">
          <div class="islem-baslik">Ä°ÅŸlem GeÃ§miÅŸi</div>
          <table class="tablo">
            <thead>
              <tr>
                <th>Tarih</th>
                <th>Ä°ÅŸlem Tipi</th>
                <th>Tutar</th>
                <th>AÃ§Ä±klama</th>
                <th>Kalan Bakiye</th>
              </tr>
            </thead>
            <tbody id="islemTablosu"></tbody>
          </table>
        </div>
      </div>
    </main>
  </div>

  <!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ£ÙƒÙŠØ¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø­Ø³Ø§Ø¨ -->
  <!-- Hesap kapatma onay modalÄ± -->
  <div id="modalKapat" class="modal">
    <div class="modal-icerik">
      <div class="modal-baslik">HesabÄ± Kapat</div>
      <div class="modal-metin">
        HesabÄ±nÄ±zÄ± kalÄ±cÄ± olarak kapatmak istediÄŸinizden emin misiniz?
        Bu iÅŸlem geri alÄ±namaz ve tÃ¼m verileriniz silinecektir.
      </div>
      <div class="modal-butonlar">
        <button class="modal-btn iptal" onclick="modalKapat()">Ä°ptal</button>
        <button class="modal-btn onayla" onclick="hesapKapat()">HesabÄ± Kapat</button>
      </div>
    </div>
  </div>

    <script>
    /* Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØºÙŠØ± ÙŠØ­ÙØ¸ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
    /* Bu deÄŸiÅŸken giriÅŸ yapan aktif kullanÄ±cÄ±yÄ± tutar */
    let aktifKullanici = null;

    /* ====== ONLOAD ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ´ØªØºÙ„ Ø£ÙˆÙ„ Ù…Ø§ Ø§Ù„ØµÙØ­Ø© ØªÙØªØ­: ÙŠØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ ÙˆÙŠØ­Ù…Ù‘Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª */
    /* Bu bÃ¶lÃ¼m sayfa aÃ§Ä±lÄ±nca Ã§alÄ±ÅŸÄ±r: aktif kullanÄ±cÄ± var mÄ± kontrol eder ve verileri yÃ¼kler */
    window.onload = function () {
      const kullaniciStr = localStorage.getItem('aktifKullanici');
      if (!kullaniciStr) {
        window.location.href = 'index.html';
        return;
      }
      aktifKullanici = JSON.parse(kullaniciStr);
      normalizeAllHesapNo(); // Ø£Ø¶Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± 
      sayfaYukle();
    };

    /* ====== SAYFA YÃœKLE ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ¹Ø¨Ù‘ÙŠ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ÙˆÙŠØ³ØªØ¯Ø¹ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±ØµÙŠØ¯ ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª */
    /* Bu bÃ¶lÃ¼m kullanÄ±cÄ± adÄ± ve hesap no'yu ekrana yazar, bakiye ve iÅŸlemleri gÃ¼nceller */
    function sayfaYukle() {
      document.getElementById('kullaniciAdiTop').textContent = aktifKullanici.adSoyad;
      document.getElementById('hesapNo').textContent = aktifKullanici.hesapNo;

      document.getElementById('kullaniciAdiSidebar').textContent = aktifKullanici.adSoyad;
      document.getElementById('hesapNoSidebar').textContent = aktifKullanici.hesapNo;

      bakiyeGuncelle();
      islemleriGoster();

      /* âœ… Ø¬Ø¯ÙŠØ¯: ØªØ¹Ø¨Ø¦Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ† ÙˆØ±Ø¨Ø· onchange */
      /* âœ… Yeni: kayÄ±tlÄ± alÄ±cÄ± listesini doldur ve onchange baÄŸla */
      kayitliAlicilariDoldur();
      const select = document.getElementById("kayitliAliciSec");
      if (select) {
        select.onchange = kayitliAliciSecildi;
      }
    }

    /* ====== BAKIYE ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠÙ‚Ø±Ø£ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ù† LocalStorage ÙˆÙŠØ¬ÙŠØ¨ Ø£Ø­Ø¯Ø« Ù†Ø³Ø®Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆÙŠØ­Ø³Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ§Øª */
    /* Bu bÃ¶lÃ¼m LocalStorage'dan kullanÄ±cÄ±larÄ± okur, aktif kullanÄ±cÄ±yÄ± gÃ¼nceller ve toplamlarÄ± hesaplar */
    function bakiyeGuncelle() {
      const kullanicilar = JSON.parse(localStorage.getItem('kullanicilar') || '[]');
      const guncelKullanici = kullanicilar.find(k => k.id === aktifKullanici.id);

      if (guncelKullanici) {
        aktifKullanici = guncelKullanici;
        localStorage.setItem('aktifKullanici', JSON.stringify(aktifKullanici));

        document.getElementById('toplamBakiye').textContent = aktifKullanici.bakiye.toFixed(2) + ' â‚º';

        let toplamYatirilan = 0;
        let toplamCekilen = 0;

        /* Ù‡Ù†Ø§ Ù†Ø­Ø³Ø¨ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª ÙˆÙ…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª Ù…Ù† Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª */
        /* Burada iÅŸlem geÃ§miÅŸinden toplam yatÄ±rÄ±lan ve toplam Ã§ekilen hesaplanÄ±r */
        aktifKullanici.islemler.forEach(islem => {
          if (islem.tip === 'Para YatÄ±rma' || islem.tip === 'Hesap AÃ§Ä±lÄ±ÅŸÄ±') {
            toplamYatirilan += islem.tutar;
          } else if (islem.tip === 'Para Ã‡ekme') {
            toplamCekilen += islem.tutar;
          }
        });

        document.getElementById('toplamYatirilan').textContent = toplamYatirilan.toFixed(2) + ' â‚º';
        document.getElementById('toplamCekilen').textContent = toplamCekilen.toFixed(2) + ' â‚º';
      }
    }

    /* ====== UI ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ¨Ø¯Ù‘Ù„ Ø¨ÙŠÙ† Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (Ø¥ÙŠØ¯Ø§Ø¹/Ø³Ø­Ø¨/ØªØ­ÙˆÙŠÙ„/Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª) ÙˆÙŠØ¸Ù‡Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ */
    /* Bu bÃ¶lÃ¼m iÅŸlem formlarÄ± arasÄ±nda geÃ§iÅŸ yapar ve seÃ§ilen formu gÃ¶sterir */
    function islemSec(e, islem) {
      document.querySelectorAll('.islem-btn').forEach(btn => btn.classList.remove('aktif'));
      document.querySelectorAll('.islem-form').forEach(form => form.classList.remove('aktif'));

      if (e && e.target) e.target.classList.add('aktif');
      document.getElementById(islem + 'Form').classList.add('aktif');
      mesajGoster('', '');
    }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­/Ø®Ø·Ø£ Ù„Ù…Ø¯Ø© 5 Ø«ÙˆØ§Ù†ÙŠ Ø«Ù… ÙŠØ®ÙÙŠÙ‡Ø§ */
    /* Bu bÃ¶lÃ¼m baÅŸarÄ±/hata mesajÄ±nÄ± 5 saniye gÃ¶sterir sonra gizler */
    function mesajGoster(mesaj, tip) {
      const mesajKutusu = document.getElementById('mesajKutusu');
      if (mesaj) {
        mesajKutusu.textContent = mesaj;
        mesajKutusu.className = 'mesaj ' + tip;
        mesajKutusu.style.display = 'block';
        setTimeout(() => mesajKutusu.style.display = 'none', 5000);
      } else {
        mesajKutusu.style.display = 'none';
      }
    }

    /* ====== PARA YATIR ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠÙ†ÙØ° Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹: ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¨Ù„ØºØŒ ÙŠØ­Ø¯Ù‘Ø« Ø§Ù„Ø±ØµÙŠØ¯ØŒ ÙŠØ³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©ØŒ Ø«Ù… ÙŠØ­Ø¯Ø« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© */
    /* Bu bÃ¶lÃ¼m para yatÄ±rma iÅŸlemini yapar: tutarÄ± kontrol eder, bakiye ve iÅŸlemleri gÃ¼nceller */
    function paraYatir(event) {
      event.preventDefault();

      const tutar = parseFloat(document.getElementById('yatirmaTutar').value);
      const aciklama = document.getElementById('yatirmaAciklama').value || 'Para yatÄ±rma';

      if (tutar < 10) {
        mesajGoster("Minimum yatÄ±rma tutarÄ± 10 TL'dir!", 'hata');
        return;
      }

      const kullanicilar = JSON.parse(localStorage.getItem('kullanicilar') || '[]');
      const kullaniciIndex = kullanicilar.findIndex(k => k.id === aktifKullanici.id);

      kullanicilar[kullaniciIndex].bakiye += tutar;
      kullanicilar[kullaniciIndex].islemler.push({
        tip: 'Para YatÄ±rma',
        tutar: tutar,
        tarih: new Date().toISOString(),
        aciklama: aciklama
      });

      localStorage.setItem('kullanicilar', JSON.stringify(kullanicilar));
      aktifKullanici = kullanicilar[kullaniciIndex];
      localStorage.setItem('aktifKullanici', JSON.stringify(aktifKullanici));

      bakiyeGuncelle();
      islemleriGoster();

      document.getElementById('yatirmaTutar').value = '';
      document.getElementById('yatirmaAciklama').value = '';

      mesajGoster(`${tutar.toFixed(2)} â‚º baÅŸarÄ±yla yatÄ±rÄ±ldÄ±!`, 'basarili');
    }

    /* ====== PARA CEK ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠÙ†ÙØ° Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø³Ø­Ø¨: ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ ÙˆÙ…Ù† ÙƒÙØ§ÙŠØ© Ø§Ù„Ø±ØµÙŠØ¯ØŒ ÙŠØ³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙˆÙŠØ­Ø¯Ø« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© */
    /* Bu bÃ¶lÃ¼m para Ã§ekme iÅŸlemini yapar: limit ve bakiye kontrol eder, iÅŸlemi kaydeder */
    function paraCek(event) {
      event.preventDefault();

      const tutar = parseFloat(document.getElementById('cekmeTutar').value);
      const aciklama = document.getElementById('cekmeAciklama').value || 'Para Ã§ekme';

      if (tutar < 10) {
        mesajGoster("Minimum Ã§ekme tutarÄ± 10 TL'dir!", 'hata');
        return;
      }

      if (tutar > aktifKullanici.bakiye) {
        mesajGoster('Yetersiz bakiye! Mevcut bakiyeniz: ' + aktifKullanici.bakiye.toFixed(2) + ' â‚º', 'hata');
        return;
      }

      const kullanicilar = JSON.parse(localStorage.getItem('kullanicilar') || '[]');
      const kullaniciIndex = kullanicilar.findIndex(k => k.id === aktifKullanici.id);

      kullanicilar[kullaniciIndex].bakiye -= tutar;
      kullanicilar[kullaniciIndex].islemler.push({
        tip: 'Para Ã‡ekme',
        tutar: tutar,
        tarih: new Date().toISOString(),
        aciklama: aciklama
      });

      localStorage.setItem('kullanicilar', JSON.stringify(kullanicilar));
      aktifKullanici = kullanicilar[kullaniciIndex];
      localStorage.setItem('aktifKullanici', JSON.stringify(aktifKullanici));

      bakiyeGuncelle();
      islemleriGoster();

      document.getElementById('cekmeTutar').value = '';
      document.getElementById('cekmeAciklama').value = '';

      mesajGoster(`${tutar.toFixed(2)} â‚º baÅŸarÄ±yla Ã§ekildi!`, 'basarili');
    }

    /* ====== HESAP GUNCELLE ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ­Ø¯Ù‘Ø« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ (Ø§Ù„Ø§Ø³Ù…/ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±) Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ø¯Ø®Ù„ Ø£ÙŠ Ø´ÙŠØ¡ */
    /* Bu bÃ¶lÃ¼m hesap bilgilerini gÃ¼nceller (ad/ÅŸifre) kullanÄ±cÄ± bir ÅŸey girdiyse */
    function hesapGuncelle() {
      const yeniAd = document.getElementById('yeniAdSoyad').value;
      const yeniSifre = document.getElementById('yeniSifre').value;

      if (!yeniAd && !yeniSifre) {
        mesajGoster('GÃ¼ncellenecek bilgi girmediniz!', 'hata');
        return;
      }

      const kullanicilar = JSON.parse(localStorage.getItem('kullanicilar') || '[]');
      const kullaniciIndex = kullanicilar.findIndex(k => k.id === aktifKullanici.id);

      if (yeniAd) kullanicilar[kullaniciIndex].adSoyad = yeniAd;
      if (yeniSifre) kullanicilar[kullaniciIndex].sifre = yeniSifre;

      localStorage.setItem('kullanicilar', JSON.stringify(kullanicilar));
      aktifKullanici = kullanicilar[kullaniciIndex];
      localStorage.setItem('aktifKullanici', JSON.stringify(aktifKullanici));

      sayfaYukle();
      document.getElementById('yeniAdSoyad').value = '';
      document.getElementById('yeniSifre').value = '';
      mesajGoster('Hesap bilgileriniz baÅŸarÄ±yla gÃ¼ncellendi!', 'basarili');
    }

    /* ====== HESAP KAPAT ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠÙØªØ­/ÙŠØºÙ„Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ (Modal) */
    /* Bu bÃ¶lÃ¼m onay modalÄ±nÄ± aÃ§ar/kapatÄ±r */
    function hesapKapatModal() { document.getElementById('modalKapat').classList.add('aktif'); }
    function modalKapat() { document.getElementById('modalKapat').classList.remove('aktif'); }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù†Ù‡Ø§Ø¦ÙŠÙ‹Ø§ Ù…Ù† LocalStorage Ø«Ù… ÙŠÙˆØ¬Ù‡ Ù„ØµÙØ­Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ */
    /* Bu bÃ¶lÃ¼m hesabÄ± LocalStorage'dan kalÄ±cÄ± siler ve giriÅŸ sayfasÄ±na yÃ¶nlendirir */
    function hesapKapat() {
      const kullanicilar = JSON.parse(localStorage.getItem('kullanicilar') || '[]');
      const yeniListe = kullanicilar.filter(k => k.id !== aktifKullanici.id);

      localStorage.setItem('kullanicilar', JSON.stringify(yeniListe));
      localStorage.removeItem('aktifKullanici');

      alert('HesabÄ±nÄ±z baÅŸarÄ±yla kapatÄ±ldÄ±. Ana sayfaya yÃ¶nlendiriliyorsunuz.');
      window.location.href = 'index.html';
    }

    /* ====== ISLEM GECMISI ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ¹Ø±Ø¶ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª: ÙŠØ¬Ù‡Ø² Ø§Ù„ØªØ§Ø±ÙŠØ®ØŒ ÙŠØ­Ø¯Ø¯ Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© (+/-)ØŒ ÙˆÙŠØ­Ø³Ø¨ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„ÙƒÙ„ Ø³Ø·Ø± */
    /* Bu bÃ¶lÃ¼m iÅŸlem geÃ§miÅŸi tablosunu gÃ¶sterir: tarih formatlar, +/- belirler, kalan bakiye hesaplar */
    function islemleriGoster() {
      const tbody = document.getElementById('islemTablosu');
      tbody.innerHTML = '';

      const islemler = [...aktifKullanici.islemler].reverse();
      let kalanBakiye = aktifKullanici.bakiye;

      for (let i = islemler.length - 1; i >= 0; i--) {
        const islem = islemler[i];
        const tr = document.createElement('tr');

        const tarih = new Date(islem.tarih);
        const tarihStr = tarih.toLocaleDateString('tr-TR') + ' ' +
          tarih.toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' });

        const isCikis = (islem.tip === 'Para Ã‡ekme' || islem.tip === 'Para Transferi (GÃ¶nder)');
        const tutarClass = isCikis ? 'cekme' : 'yatirma';
        const tutarPrefix = isCikis ? '-' : '+';

        tr.innerHTML = `
          <td>${tarihStr}</td>
          <td>${islem.tip}</td>
          <td class="${tutarClass}">${tutarPrefix}${islem.tutar.toFixed(2)} â‚º</td>
          <td>${islem.aciklama}</td>
          <td>${kalanBakiye.toFixed(2)} â‚º</td>
        `;

        tbody.appendChild(tr);

        if (isCikis) kalanBakiye += islem.tutar;
        else kalanBakiye -= islem.tutar;
      }
    }

    /* ====== CIKIS ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ³Ø¬Ù„ Ø®Ø±ÙˆØ¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (ÙŠØ­Ø°Ù aktifKullanici Ù…Ù† LocalStorage) */
    /* Bu bÃ¶lÃ¼m kullanÄ±cÄ± Ã§Ä±kÄ±ÅŸÄ± yapar (aktifKullanici LocalStorage'dan silinir) */
    function cikisYap() {
      if (confirm('Ã‡Ä±kÄ±ÅŸ yapmak istediÄŸinizden emin misiniz?')) {
        localStorage.removeItem('aktifKullanici');
        window.location.href = 'index.html';
      }
    }

    /* ====== SIDEBAR ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆÙŠØ±Ø¬Ø¹ Ù„Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© */
    /* Bu bÃ¶lÃ¼m ayarlar sayfasÄ±nÄ± aÃ§ar ve sayfanÄ±n baÅŸÄ±na Ã§Ä±kar */
    function openSettingsFromSidebar() { window.location.href = 'ayarlar.html'; }
    function scrollToTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ¨Ø¯Ù‘Ù„ ÙˆØ¶Ø¹ Ø§Ù„Ø³Ø§ÙŠØ¯Ø¨Ø§Ø± Ø¨ÙŠÙ† Ù…ÙØªÙˆØ­/Ù…ØºÙ„Ù‚ Ø¹Ø¨Ø± classList */
    /* Bu bÃ¶lÃ¼m sidebar'Ä± open/closed yapmak iÃ§in classList toggle kullanÄ±r */
    function toggleSidebar() {
      document.querySelector('.sidebar').classList.toggle('closed');
      document.querySelector('.main').classList.toggle('closed');
    }

    /* =========================================================
       âœ… KAYITLI ALICILAR (YENÄ° EKLENECEK KISIM)
    ========================================================= */

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ù† LocalStorage */
    /* Bu bÃ¶lÃ¼m aktif kullanÄ±cÄ±ya ait kayÄ±tlÄ± alÄ±cÄ± listesini LocalStorage'dan getirir */
    function getKayitliAlicilar() {
      const key = `kayitliAlicilar_${aktifKullanici.id}`;
      return JSON.parse(localStorage.getItem(key) || "[]");
    }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠØ­ÙØ¸/ÙŠØ­Ø¯Ø« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ† Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ LocalStorage */
    /* Bu bÃ¶lÃ¼m aktif kullanÄ±cÄ±ya ait kayÄ±tlÄ± alÄ±cÄ± listesini LocalStorage'a kaydeder */
    function setKayitliAlicilar(liste) {
      const key = `kayitliAlicilar_${aktifKullanici.id}`;
      localStorage.setItem(key, JSON.stringify(liste));
    }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠÙ…Ù„Ø£ select Ø¨Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ† (lakap + hesapNo) */
    /* Bu bÃ¶lÃ¼m select alanÄ±nÄ± kayÄ±tlÄ± alÄ±cÄ±larla doldurur (lakap + hesapNo) */
    function kayitliAlicilariDoldur() {
      const select = document.getElementById("kayitliAliciSec");
      if (!select) return;

      select.innerHTML = `<option value="">â€” SeÃ§iniz â€”</option>`;

      const liste = getKayitliAlicilar();
      liste.forEach((a, idx) => {
        const opt = document.createElement("option");
        opt.value = String(idx);
        const lakapText = a.lakap ? a.lakap : "(Lakap Yok)";
        opt.textContent = `${lakapText} - ${a.hesapNo}`;
        select.appendChild(opt);
      });
    }

    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠÙ†ÙØ° Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³ØªÙÙŠØ¯ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©: ÙŠØ¹Ø¨Ù‘ÙŠ Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ */
    /* Bu bÃ¶lÃ¼m listeden alÄ±cÄ± seÃ§ilince Ã§alÄ±ÅŸÄ±r: transfer alanlarÄ±nÄ± otomatik doldurur */
    function kayitliAliciSecildi() {
      const select = document.getElementById("kayitliAliciSec");
      const idxStr = select.value;
      if (!idxStr) return;

      const idx = parseInt(idxStr, 10);
      const liste = getKayitliAlicilar();
      const secilen = liste[idx];
      if (!secilen) return;

      document.getElementById("transferAliciHesapNo").value = secilen.hesapNo || "";
      document.getElementById("transferAliciAdSoyad").value = secilen.adSoyad || "";
      document.getElementById("transferAliciLakap").value = secilen.lakap || "";

      document.getElementById("transferAliciKaydet").checked = false;
    }

    /* ====== PARA TRANSFERI (Ù…Ø¹ Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª ÙÙ‚Ø·) ====== */
    /* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ ÙŠÙ†ÙØ° Ø§Ù„ØªØ­ÙˆÙŠÙ„: ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø®ØµÙ… Ù…Ù† Ø§Ù„Ù…Ø±Ø³Ù„ØŒ Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ØŒ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØªÙŠÙ†ØŒ ÙˆØ­ÙØ¸ Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ Ø¥Ø°Ø§ ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø°Ù„Ùƒ */
    /* Bu bÃ¶lÃ¼m transfer yapar: kontrol, gÃ¶nderenden dÃ¼ÅŸ, alÄ±cÄ±ya ekle, iÅŸlemleri kaydet, istenirse alÄ±cÄ±yÄ± kaydet */
    function paraTransferi(event) {
      event.preventDefault();

     const aliciHesapNoRaw = document.getElementById('transferAliciHesapNo').value.trim();
     const aliciHesapNo = prefix963(aliciHesapNoRaw);
      const tutar = parseFloat(document.getElementById('transferTutar').value);
      const aciklama = document.getElementById('transferAciklama').value.trim() || 'Para transferi';

      /* âœ… Ø¬Ø¯ÙŠØ¯ */
      /* âœ… Yeni */
      const aliciAdSoyad = document.getElementById('transferAliciAdSoyad').value.trim();
      const aliciLakap = document.getElementById('transferAliciLakap').value.trim();
      const kaydet = document.getElementById('transferAliciKaydet').checked;

      if (!aliciHesapNo) {
        mesajGoster('AlÄ±cÄ± hesap numarasÄ± giriniz!', 'hata');
        return;
      }

      if (aliciHesapNo === String(aktifKullanici.hesapNo)) {
        mesajGoster('Kendi hesabÄ±nÄ±za transfer yapamazsÄ±nÄ±z!', 'hata');
        return;
      }

      /* âœ… Ø¬Ø¯ÙŠØ¯: Ø´Ø±Ø· Ø§Ù„Ù„Ù‚Ø¨ Ø¹Ù†Ø¯ Ø§Ù„Ø­ÙØ¸ */
      /* âœ… Yeni: kaydetmek iÃ§in lakap ÅŸartÄ± */
      if (kaydet && !aliciLakap) {
        mesajGoster('Kaydetmek iÃ§in lakap giriniz!', 'hata');
        return;
      }

      if (isNaN(tutar) || tutar < 10) {
        mesajGoster("Minimum transfer tutarÄ± 10 TL'dir!", 'hata');
        return;
      }

      if (tutar > aktifKullanici.bakiye) {
        mesajGoster('Yetersiz bakiye! Mevcut bakiyeniz: ' + aktifKullanici.bakiye.toFixed(2) + ' â‚º', 'hata');
        return;
      }

      const kullanicilar = JSON.parse(localStorage.getItem('kullanicilar') || '[]');

      const gonderenIndex = kullanicilar.findIndex(k => k.id === aktifKullanici.id);
      const aliciIndex = kullanicilar.findIndex(k => String(k.hesapNo) === aliciHesapNo);

      if (aliciIndex === -1) {
        mesajGoster('AlÄ±cÄ± hesap bulunamadÄ±!', 'hata');
        return;
      }

      // 1) GÃ¶nderen
      kullanicilar[gonderenIndex].bakiye -= tutar;
      kullanicilar[gonderenIndex].islemler.push({
        tip: 'Para Transferi (GÃ¶nder)',
        tutar: tutar,
        tarih: new Date().toISOString(),
        aciklama: `AlÄ±cÄ±: ${aliciHesapNo} - ${aciklama}`
      });

      // 2) AlÄ±cÄ±
      const gonderenHesapNo = String(kullanicilar[gonderenIndex].hesapNo);
      kullanicilar[aliciIndex].bakiye += tutar;
      kullanicilar[aliciIndex].islemler.push({
        tip: 'Para Transferi (Al)',
        tutar: tutar,
        tarih: new Date().toISOString(),
        aciklama: `GÃ¶nderen: ${gonderenHesapNo} - ${aciklama}`
      });

      localStorage.setItem('kullanicilar', JSON.stringify(kullanicilar));

      aktifKullanici = kullanicilar[gonderenIndex];
      localStorage.setItem('aktifKullanici', JSON.stringify(aktifKullanici));

      /* âœ… Ø¬Ø¯ÙŠØ¯: Ø­ÙØ¸ Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ */
      /* âœ… Yeni: alÄ±cÄ±yÄ± kaydet */
      if (kaydet) {
        const liste = getKayitliAlicilar();
        const mevcutIndex = liste.findIndex(x => String(x.hesapNo) === String(aliciHesapNo));

        const yeniKayit = {
          hesapNo: String(aliciHesapNo),
          adSoyad: aliciAdSoyad,
          lakap: aliciLakap
        };

        if (mevcutIndex !== -1) liste[mevcutIndex] = yeniKayit;
        else liste.push(yeniKayit);

        setKayitliAlicilar(liste);
        kayitliAlicilariDoldur();
      }

      bakiyeGuncelle();
      islemleriGoster();

      // temizle (Ù†ÙØ³ ØªØ¨Ø¹Ùƒ + Ø¬Ø¯ÙŠØ¯)
      document.getElementById('transferAliciHesapNo').value = '';
      document.getElementById('transferTutar').value = '';
      document.getElementById('transferAciklama').value = '';

      /* âœ… Ø¬Ø¯ÙŠØ¯ ØªÙ†Ø¸ÙŠÙ */
      /* âœ… Yeni temizleme */
      document.getElementById('transferAliciAdSoyad').value = '';
      document.getElementById('transferAliciLakap').value = '';
      document.getElementById('transferAliciKaydet').checked = false;
      document.getElementById('kayitliAliciSec').value = '';

      mesajGoster(`${tutar.toFixed(2)} â‚º baÅŸarÄ±yla transfer edildi!`, 'basarili');
    }



    //9633333
    
// Ø±Ù‚Ù… Ø­Ø³Ø§Ø¨ Ù…ÙˆØ­Ù‘Ø¯ ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 963
function prefix963(no) {
  let s = String(no ?? "").trim();

  if (!s) return "TR963";

  // Ø§Ø­Ø°Ù Ø£ÙŠ "TR" ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© (Ø­ØªÙ‰ Ù„Ùˆ Ù…ÙƒØ±Ø±Ø©)
  s = s.replace(/^(TR)+/i, "");

  // Ø§Ø­Ø°Ù Ø£ÙŠ "963" ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© (Ø­ØªÙ‰ Ù„Ùˆ Ù…ÙƒØ±Ø±Ø©)
  s = s.replace(/^963+/,"");

  // Ø§Ø­Ø°Ù Ø£ÙŠ ÙØ±Ø§ØºØ§Øª
  s = s.replace(/\s+/g, "");

  // Ø±Ø¬Ù‘Ø¹Ù‡Ø§ Ø¨Ø´ÙƒÙ„ Ø«Ø§Ø¨Øª: TR963 + Ø§Ù„Ø¨Ø§Ù‚ÙŠ
  return "TR963" + s;
}




// LocalStorage iÃ§indeki tÃ¼m kullanÄ±cÄ±larÄ±n hesapNo'larÄ±nÄ± 963 ile baÅŸlat
function normalizeAllHesapNo() {
  const kullanicilar = JSON.parse(localStorage.getItem("kullanicilar") || "[]");
  let degisti = false;

  kullanicilar.forEach(k => {
    const once = String(k.hesapNo ?? "");
    const sonra = prefix963(once);
    if (once !== sonra) { k.hesapNo = sonra; degisti = true; }
  });

  if (degisti) localStorage.setItem("kullanicilar", JSON.stringify(kullanicilar));

  // aktif kullanÄ±cÄ±yÄ± da gÃ¼ncelle
  const aktifStr = localStorage.getItem("aktifKullanici");
  if (aktifStr) {
    const ak = JSON.parse(aktifStr);
    const once = String(ak.hesapNo ?? "");
    const sonra = prefix963(once);
    if (once !== sonra) {
      ak.hesapNo = sonra;
      localStorage.setItem("aktifKullanici", JSON.stringify(ak));
    }
  }

  // kayÄ±tlÄ± alÄ±cÄ± listesindeki hesapNo'larÄ± da normalize et
  if (typeof aktifKullanici !== "undefined" && aktifKullanici && aktifKullanici.id != null) {
    const key = `kayitliAlicilar_${aktifKullanici.id}`;
    const liste = JSON.parse(localStorage.getItem(key) || "[]");
    let degisti2 = false;

    liste.forEach(a => {
      const once = String(a.hesapNo ?? "");
      const sonra = prefix963(once);
      if (once !== sonra) { a.hesapNo = sonra; degisti2 = true; }
    });

    if (degisti2) localStorage.setItem(key, JSON.stringify(liste));
  }
}

// Input alanÄ±nda otomatik 963 ile baÅŸlat (kullanÄ±cÄ± silse bile geri koyar)
function ensure963Input(el) {
  if (!el) return;
  const val = String(el.value ?? "").trim();
  if (!val) { el.value = "963"; return; }
  if (!val.startsWith("963")) el.value = "963" + val;
}

/* âœ… sayfaYukle Ã§alÄ±ÅŸÄ±nca otomatik baÄŸla + ekranda da 963 gÃ¶ster */
(function attach963Handlers() {
  const _oldSayfaYukle = window.sayfaYukle;
  window.sayfaYukle = function () {
    _oldSayfaYukle();

    // ekranda gÃ¶rÃ¼nen hesap no'lar 963 ile baÅŸlasÄ±n (Ã¼stÃ¼ne yazar, satÄ±r deÄŸiÅŸtirme yok)
    const hNo = prefix963(aktifKullanici?.hesapNo);
    const h1 = document.getElementById("hesapNo");
    const h2 = document.getElementById("hesapNoSidebar");
    if (h1) h1.textContent = hNo;
    if (h2) h2.textContent = hNo;

    // transfer inputuna otomatik uygula
    const input = document.getElementById("transferAliciHesapNo");
    if (input) {
     // input.addEventListener("input", () => ensure963Input(input));
     // input.addEventListener("blur", () => ensure963Input(input));
      // boÅŸsa ilk defa da 963 koy
      //if (!String(input.value || "").trim()) input.value = "963";
    }
  };
})();

  </script>
</body>
</html>
